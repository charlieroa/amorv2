<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Un Viaje Para Ti, Lore</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            padding: 1rem;
        }
        .container {
            text-align: center;
            padding: 2rem;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            max-width: 650px;
        }
        .instructions {
            background-color: #fffde7;
            border: 1px solid #ffc107;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            text-align: left;
            font-size: 0.95rem;
        }
        #contenedorMensaje {
            font-size: 1.1rem;
            text-align: left;
            white-space: pre-wrap; /* Mantiene los saltos de línea */
        }
        #contenedorPista {
            margin-top: 1rem;
            border-left: 4px solid #0d6efd;
            padding-left: 1rem;
            text-align: left;
        }
        .puzzle-piece {
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1.5rem;
            color: #d63384; /* Un color rosa fuerte */
        }
    </style>
</head>
<body>

    <div class="container">
        
        <h1 class="mb-4">Lore te amo ❤️</h1>

        <div class="instructions">
            <h5 class="fw-bold">Instrucciones del Viaje:</h5>
            <p class="mb-0">
                Todos los días, al oprimir el botón, descubrirás qué es lo que destrabaste dentro de mí. Además, recibirás una **pista**.
                <br>
                Deberás unir todas las pistas en orden para que pase algo mágico el día 21. No se puede adelantar ni retroceder, ¡así que no dejes de entrar cada día para ver el mensaje!
            </p>
        </div>

        <h2 class="mb-3 h4">Día <span id="diaActual">1</span> de 21</h2>
        <button id="btnMostrarContenido" class="btn btn-danger btn-lg mb-3">Descubrir el Mensaje de Hoy</button>
        
        <div id="contenedorMensaje" class="alert alert-light" style="display: none;"></div>
        <div id="contenedorPista" class="alert alert-info" style="display: none;">
            <h5 class="alert-heading">Pista del Rompecabezas:</h5>
            <p id="textoPista" class="mb-0 puzzle-piece"></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- ROMPECABEZAS SUTIL Y MENSAJES FINALES ---
            const contenidoDiario = [
                { mensaje: "Lore, ¿recuerdas cómo empezamos? ¿Recuerdas que hacía este tipo de cosas para enamorarte y te decía: 'lo peor que te puede pasar es que te enamores'? Quiero que esto no se pierda. Perdóname por hacerlo... Eres mi luz en medio de las tinieblas, eres la mano de Dios diciéndome: 'salta de la barca y camina conmigo'. Gracias por no soltar aún mi mano.", pista: "El" },
                { mensaje: "Recuerdo cómo cada día tenía miedo de ir a una cita contigo, porque sabía la persona y el mujerón que eres. Me sudaba todo, me tocó tomar cerveza para tener el valor de ir a esa cita. Esta semana que fuimos a la iglesia, me sudaban las manos como ese primer día. Gracias por no soltar mi mano.", pista: "viaje" },
                { mensaje: "Te hago chistes flojos todo el tiempo porque amo tu sonrisa. Amo verte: tu cara, tus labios, esos ojos que demuestran amor, esas manos, ese cuerpo. Recuerdo que cada día intentaba hablarte con la esperanza de que un día me dieras la oportunidad de conocerte, y conocerte fue lo mejor que me pasó.", pista: "de nuestras" },
                { mensaje: "Llamarte cada día es un privilegio. No quiero perder un día más sin saber de ti. Eres el amor de mi vida, eres la futura esposa y madre de mis hijos. Como decimos con la Selección Colombia: ¡con la fe intacta!", pista: "vidas" },
                { mensaje: "¡Qué suerte cuando me tomas de la mano! Qué triste que yo huyera de eso antes. Ahora no quiero soltarla nunca. Gracias por tomar mi mano y jamás soltarla.", pista: "empieza" },
                { mensaje: "Sé que Mati es tu bendición y él se ganó también mi corazón. Sé que no ha sido la relación que esperas, pero quiero esforzarme también por él. Gracias por criar un niño como lo hiciste y por presentarme a tu bendición. Nunca dejes de soltar mi mano.", pista: "el" },
                { mensaje: "Mil gracias por amar a mis bendiciones como lo haces. Mis perros nunca tuvieron esa figura que tú les das. Gracias por preocuparte por ellos y por ir de mi mano.", pista: "1" },
                { mensaje: "Tengo que esforzarme, no solo hoy sino por siempre, para conquistarte. Recuérdamelo cuando esté bajito de ánimo. Uno se acostumbra, pero quiero ser como mi padre, que aunque no lo hace todos los días, tiene esos detalles. Tengo un gran ejemplo en casa.", pista: "de" },
                { mensaje: "Gracias por estar pendiente de mi salud. Te decía que hemos pasado por tantas tormentas... En la salud y en la enfermedad, espero que nunca nos toque pasar por algo grave. No podría verte mal.", pista: "julio." },
                { mensaje: "Gracias por los mil esfuerzos que hiciste durante nuestra relación. Fue lo que Dios prometió. Cada vez que lo hacías, ibas soltando un candado que hoy me tiene aquí, enamorado desde el alma.", pista: "A-" },
                { mensaje: "Verte en las videollamadas diarias, escuchar tu voz, se volvió mi canción favorita. Es lo que levanta mi ánimo. Me había acostumbrado a ella y, después de que nos separamos, no tenía esa energía. Necesito de tu voz. Gracias por no soltar mi mano.", pista: "-lis-" },
                { mensaje: "Sabes que amo que te preocupes por mis proyectos. Gracias, porque ahora son nuestros, de nuestra familia. Espero que un día podamos mirar hacia atrás y ver cuánto hemos crecido. Sé que eres esa persona que sujeta mi mano para crecer juntos y hacer equipo.", pista: "-ta" },
                { mensaje: "Me hiciste mejor persona. Llegaste para cambiar muchos de mis miedos, para enseñarme cómo amar bonito. Eso es algo que nunca voy a poder olvidar. Gracias infinitas por eso.", pista: "ma-" },
                { mensaje: "Eres una de las poquitas personas que logró desnudar mi alma. Me viste llorar, me has visto vulnerable, me viste roto, y eso solo puede significar que te veo como la compañera de vida con la que puedo mostrarme como soy. Gracias por no soltar mi mano.", pista: "-le-" },
                { mensaje: "El futuro que imagino ya te lo contaba. Te decía que con Martica vengo haciendo terapia y que me hizo dibujar a la familia que soñaba. El dibujo mostró más de lo que imaginaba.", pista: "-tas." },
                { mensaje: "Una canción que no sale de mi vida es 'Amor del Bueno' de Reyli Barba. Es en serio, tal como lo dice: '...así me fuiste despertando del sueño donde estaba...'. En el destino estaba que fueras para mí.", pista: "Te" },
                { mensaje: "Haciendo esto me digo: 'creo que no las hacía desde el colegio'. Qué feo ver cómo te apagan esto. Pero sé que tú vienes rescatando esa parte de mí para poder mostrarte cómo se enamora a la antiguita.", pista: "a-" },
                { mensaje: "Tenemos muchos sueños, muchos anhelos que por mi culpa se vienen secando. Perdóname. Esto tiene que ser como un árbol de sueños bien regado, que tiene que irse podando para que no se muera. Toca cuidarlo para que dé frutos.", pista: "-mo" },
                { mensaje: "Ya casi llegamos al final, pero no de nuestra historia. Al final de demostrarte que no juego y que no puedo jugar contigo. Sé lo que es perderte y no quiero un día más de mi vida sin poder tenerte, sin poder verte, sin poder consentirte. Faltan pocos días para verte.", pista: "." },
                { mensaje: "Gracias por este viaje. No ha pasado mucho tiempo, pero qué bien marcaste mi vida. Tatuaste tu nombre en mi mente y en mi corazón. Lograste construir un amor bonito con buenas bases sólidas, en contra de tormentas y lo que venga. Gracias por ser la arquitecta de este amor.", pista: "❤️" },
                { mensaje: "Último día. Quiero que me acompañes a un viaje que no tiene vuelta de hoja. Aquí empiezan a cumplirse las promesas. Aquí es cuando todo inicia, sin miedos, sin más excusas...", pista: "¡Únelo todo y prepárate!" }
            ];

            const btnMostrar = document.getElementById('btnMostrarContenido');
            const contenedorMsg = document.getElementById('contenedorMensaje');
            const contenedorPista = document.getElementById('contenedorPista');
            const textoPista = document.getElementById('textoPista');
            const diaActualSpan = document.getElementById('diaActual');

            // --- ¡IMPORTANTE! Ajusta esta fecha al día que quieras que comience todo ---
            // Formato: new Date(AÑO, MES, DÍA). Mes 6 es Julio.
            const fechaInicio = new Date(2025, 6, 7); 
            
            const hoy = new Date();
            fechaInicio.setHours(0, 0, 0, 0);
            hoy.setHours(0, 0, 0, 0);

            const diferenciaMs = hoy.getTime() - fechaInicio.getTime();
            const diaDelCiclo = Math.floor(diferenciaMs / 86400000) + 1;
            
            if (diaDelCiclo >= 1 && diaDelCiclo <= contenidoDiario.length) {
                
                diaActualSpan.textContent = diaDelCiclo;

                btnMostrar.addEventListener('click', () => {
                    const contenidoDelDia = contenidoDiario[diaDelCiclo - 1];
                    
                    contenedorMsg.textContent = contenidoDelDia.mensaje;
                    contenedorMsg.style.display = 'block';

                    textoPista.textContent = contenidoDelDia.pista;
                    contenedorPista.style.display = 'block';

                    btnMostrar.disabled = true;
                    btnMostrar.textContent = "Mensaje Descubierto";

                    if (diaDelCiclo === 21) {
                         confetti({ particleCount: 400, spread: 180, origin: { y: 0.6 }, startVelocity: 40 });
                    } else {
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    }
                });

            } else if (diaDelCiclo < 1) {
                 diaActualSpan.textContent = "?";
                 btnMostrar.textContent = 'Nuestro viaje aún no comienza';
                 btnMostrar.disabled = true;
            } else {
                diaActualSpan.textContent = "Fin";
                btnMostrar.textContent = 'Nuestro viaje ha concluido';
                btnMostrar.disabled = true;
            }
        });
    </script>

</body>
</html>